<?php

// =============================
// 厳格な型チェックを有効化
// 小さな関数でも型安全を保つ
// =============================
declare(strict_types=1);


// =============================
// HTMLエスケープ用の共通関数
// =============================
function h(?string $s): string
{
    // null が渡ってきてもエラーにならないように
    // null → 空文字に変換
    //
    // htmlspecialchars により
    // < > " ' & を HTMLエンティティへ変換
    // → XSS（クロスサイトスクリプティング）対策
    return htmlspecialchars(
        $s ?? '',
        ENT_QUOTES,   // シングルクォート・ダブルクォート両方をエスケープ
        'UTF-8'       // 文字コード指定（日本語環境）
    );
}
